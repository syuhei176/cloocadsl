<!doctype html>
<html>
<head>
<meta name="gwt:property" content="locale=ja">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>clooca</title>
<link rel="stylesheet" href="home.css" type="text/css" />
<!-- <link rel="stylesheet" href="common.css" type="text/css" /> -->
<link href="/static/css/bootstrap.min.css" rel="stylesheet">
<link href="/static/css/ui-darkness/jquery-ui-1.8.18.custom.css" rel="stylesheet">
<script src="/static/js/jquery-1.7.1.min.js"></script>
<script src="/static/js/jquery-ui-1.8.18.custom.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAQr-OoUDUD8B6md7h-mq_iBRB2_XkvWJzLyCU3pCnbWbszTP00xQZ7sOVnkT-oSJ1YdcNe6Gkeyz7zA"></script>
<script type="text/javascript">

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27187988-1']);
_gaq.push(['_setDomainName', 'clooca.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

function init() {
	$( "#login_dialog" ).hide();
	$( "#register_dialog" ).hide();
    if(location.hostname == "clooca.com") {
        location.href='http://education.clooca.com/';
    }
	var locale_ = window.navigator.language.toLowerCase();
//	window.alert(locale_);
	if(locale_ == "en") {
		document.getElementById("message").innerHTML = "this is Japanese Site.You can view English Site";
	}else if(locale_ == "en-us") {
		document.getElementById("message").innerHTML = "this is Japanese Site.You can view English Site";
	}else{
		
	}
	twitter_init();
	{% if loggedin %}
	  $('#login').empty().append('<a href="/cgi-bin/core/logout.cgi">logout {{username}}</a>&nbsp;&nbsp;&nbsp;');
	{% else %}
	  $('#login').empty().append('<a href="javascript:login()">login</a>&nbsp;&nbsp;&nbsp;');
	{% endif %}
	/*
	$.post('/cgi-bin/core/checkloggedin.cgi',
		function(data) {
		  if(data != null) {
			  load_models();
			  $('#login').empty().append('<a href="/cgi-bin/core/logout.cgi">logout '+data.uname+'</a>&nbsp;&nbsp;&nbsp;');
		  }else{
			  $('#login').empty().append('<a href="javascript:login()">login</a>&nbsp;&nbsp;&nbsp;');
		  }
		}, "json");
	*/
	$("#loginform").submit(function(event) {

	    /* stop form from submitting normally */
	    event.preventDefault(); 
	        
	    /* get some values from elements on the page: */
	    var $form = $( this ),
	        username = $form.find( 'input[name="username"]' ).val(),
	        password = $form.find( 'input[name="password"]' ).val(),
	        url = $form.attr( 'action' );
	    
	    /* Send the data using post and put the results in a div */
	    $.post( url, { username: username, password: password },
	      function( data ) {
//	    	window.alert(data);
	    	if(data != null) {
	    		$('#login').empty().append('<a href="/logout">logout '+data.uname+'</a>&nbsp;&nbsp;&nbsp;');
	    		$( "#login_dialog" ).dialog('close');
	    	}
	      }, "json");
	  });
	
	$("#register-form").submit(function(event) {

	    /* stop form from submitting normally */
	    event.preventDefault(); 
	        
	    /* get some values from elements on the page: */
	    var $form = $( this ),
        username = $form.find( 'input[name="username"]' ).val(),
        password = $form.find( 'input[name="password"]' ).val(),
        password_confirm = $form.find( 'input[name="password-confirm"]' ).val(),
	        url = $form.attr( 'action' );
	    
	    if(password != password_confirm) {
	    	window.alert('passwordが一致しません！');
	    	return;
	    }
	    /* Send the data using post and put the results in a div */
	    $.post( url, { username: username, password: password },
	      function( data ) {
//	    	window.alert(data);
    		$( "#register_dialog" ).dialog('close');
	      }, "json");
	  });

}

function login() {
	$( "#login_dialog" ).dialog({ modal: true });
}

function register() {
	$( "#register_dialog" ).dialog({ modal: true });
}

function load_models() {
	$.post('/cgi-bin/core/dashboard.cgi',
			function(data) {
				for(var i = 0;i < data.length;i++) {
					  $('#metamodel').empty().append('name='+data[i].name);
				}
			}, "json");

}

var twitter_id = 'clooca';
var twitter_count = 5;
var twitter_elem_id = 'twitter_data';

function twitter_init() {
var url = 'http://twitter.com/statuses/user_timeline/'
+ twitter_id
+ '.json?callback=twitterCallback&count='
+ twitter_count;
var script = document.createElement('script');
script.setAttribute('src', url);
document.body.appendChild(script);
}

function twitterCallback(obj){
var html = "";
for(var i=0 ; i<twitter_count && i<obj.length ; i++){
html += "<li><a href='http://twitter.com/" + twitter_id + "/status/"
+ obj[i].id + "'>" + obj[i].text + "</a></li>";
}
document.getElementById(twitter_elem_id).innerHTML = html;
}

</script>
</head>
<body onload="init()">
      <!-- OPTIONAL: include this if you want history support -->
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    
    <!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>
<p id="message"></p>

<!-- ログイン　ダイアログ -->
<div id="login_dialog" title="login dialog">
<form id="loginform" action="/login">
<div>username:<input type="text" name="username"></div>
<div>password:<input type="password" name="password"></div>
<input type="submit" value="ログイン">
</form>
</div>

<!-- 登録　ダイアログ -->
<div id="register_dialog" title="register dialog">
<form id="register-form" action="/register">
<div>username:<input type="text" name="username"></div>
<div>password:<input type="password" name="password"></div>
<div>confirm:<input type="password" name="password-confirm"></div>
<input type="submit" value="登録">
</form>
</div>

<div id="wrapper">
<div id="temp">
<div id="header">
<div id="header-main">
<p id="overview">
</p>
<!-- clooca is a web-based model-driven development tool.
Currently, clooca is being introduced at the lesson of the Kyushu University Graduate School of Information Systems, please try it. -->
</div>
<div id="language">
<div Align="right"><a href="/english/index.html">English</a></div>
<div Align="right"><a href="/index.html">日本語</a></div>
</div>
</div>
<!-- ナビゲーションバー -->
 <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container" style="width: auto;">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
        <!-- <a class="brand" href="/"><img src="images/logo2.png" width="80" height="30"></img></a> -->
        <a class="brand" href="/">clooca DSL</a>
        <div class="nav-collapse">
          <ul class="nav">
            <li class="active"><a href="/index.html">Home</a></li>
            <li class="divider-vertical"></li>
            <li><a href="/service.html">Service</a></li>
            <li class="divider-vertical"></li>
            <li><a href="/document.html">Document</a></li>
            <li class="divider-vertical"></li>
            <li><a href="/contact.html">Contact</a></li>
          </ul>
          <p id="login" class="navbar-text pull-right"></p>
        </div><!-- /.nav-collapse -->
      </div>
    </div><!-- /navbar-inner -->
  </div><!-- /navbar -->
  
      <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">Manual</li>
              <li><a href="/file/tutorial.pdf">簡易マニュアル</a></li>
              <li class="nav-header">Links</li>
              <li><a href="https://groups.google.com/group/clooca/topics">ディスカッション</a></li>
              <li><a href="http://www.clooca.com">clooca</a></li>
              <li><a href="http://syuhei.jpn.org">開発者のページ</a></li>
            </ul>
          </div><!--/.well -->
        </div><!--/span-->
        <div class="span9">
          <div class="hero-unit">
            <h1>clooca DSL</h1>
            <p>cloooca DSLはソーシャルDSMLプラットフォームです。</p>
            <p><a class="btn btn-danger btn-large" href="javascript:register()">　新規登録 &raquo;　　</a></p>
            <p><a class="btn btn-primary btn-large" href="/dashboard">ダッシュボード &raquo;</a></p>
            <h3>最新情報</h3>
            <ul id="twitter_data"></ul>
          </div>
          <div class="row-fluid">
            <div class="span4">
              <h2>ブラウザで使用可能</h2>
              <p>cloocaのモデルエディタはブラウザさえあれば、いつでも、どこでも使うことができる。</p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
            <div class="span4">
              <h2>Editor</h2>
              <p>cloocaでは直感的なモデル図（DSML）を用いて開発することができる。</p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
            <div class="span4">
              <h2>Workbench</h2>
              <p>DSMLをブラウザで構築することができる。</p>
              <p><a class="btn" href="#">View details &raquo;</a></p>
            </div><!--/span-->
          </div><!--/row-->
        </div><!--/span-->
      </div><!--/row-->

      <hr>

      <footer>
      <div id="metamodel">
      
        <p>当サイトclooca educational versionは無料で使用できる、教育用のWebベースモデル駆動開発ツールです。CloudMDDとして<a href="http://www.ipa.go.jp/jinzai/mitou/2010/2010_1/youth/koubokekka.html">２０１０年度IPA未踏ユース事業</a>に採択されています。
お問い合わせは<a href="mailto:info&#64;clooca.com">info&#64;clooca.com</a> までお願いします。<br>
Copyright &copy 2011 部谷修平　All Rights Reserved.
</p>
      </footer>

    </div><!--/.fluid-container-->
<!--
<form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="DFBZ4Z5JC38YY">
<input type="image" src="https://www.sandbox.paypal.com/ja_JP/JP/i/btn/btn_buynowCC_LG.gif" border="0" name="submit" alt="PayPal- オンラインで安全・簡単にお支払い">
<img alt="" border="0" src="https://www.sandbox.paypal.com/ja_JP/i/scr/pixel.gif" width="1" height="1">
</form>
-->

</div>
<div id="footer">
</div>
</div>
</div>
</body>
</html>
